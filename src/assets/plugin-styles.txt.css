/*#region Variables */
body {
	--color-fade-speed: 0.2s;
}

/*#endregion */

/*#region Tree */

.tree-icon {
	border: 1px solid transparent;
	margin: 0px 4px 0px 0px;
	display: flex;
	align-self: center;
}

.tree-icon :is(svg, img) {
	width: 1em !important;
	height: 1em !important;
}

.tree-icon *:has(svg, img) {
	display: contents !important;
}

a.tree-item-self.is-clickable {
	text-decoration: none !important;
	text-decoration-line: none !important;
}

.tree-item-inner {
	font-weight: 500;
}

.tree-item-inner.nav-file-title-content {
	color: #2b2b2b;
	opacity: .75;
	pointer-events: all;
	font-weight: 600;
	text-decoration: none;
	transition: color .2s;
}

.tree-item-inner.nav-folder-title-content {
	color: #284b63;
	font-family: var(--headerFont);
	font-size: .95rem;
	font-weight: 600;
	line-height: 1.2rem;
	display: inline-block;
}

body.theme-dark .tree-item-inner.nav-file-title-content {
	color: #d4d4d4;
}

body.theme-dark .tree-item-inner.nav-folder-title-content {
	color: #7b97aa;
}

.tree-item-inner>p {
	display: contents !important;
}


.tree-container .feature-title {
	flex-grow: 0 !important;
	margin-right: .5em !important;
	font-size: 1.1rem !important;
	color: var(--text-normal) !important;
}

.tree-item-children:empty {
	display: none !important;
}

.tree-item-children {
	border-left: none !important;
}

.tree-item.filtered-out {
	display: none;
}

.tree-item:not(.mod-collapsible)>.tree-item-self {
	padding-left: calc(var(--nav-item-children-margin-start, var(--nav-item-children-margin-left)) - 0.35em);
}

.tree-item-self {
	display: flex !important;
	align-items: center !important;
}

#file-explorer {
	padding: 0 !important;
}

/*#region Headers */

.heading p {
	margin: 0 !important;
}

#webpage-icon :is(svg, img) {
	width: 100%;
	height: 100%;
	box-shadow: none !important;
	border: none !important;
	border-radius: 0 !important;
	stroke: currentColor;
	margin: 0 !important;
	padding: 0 !important;
}

#webpage-icon *:has(:is(svg, img)) {
	display: contents !important;
}

#webpage-icon:has(:is(svg, img)) {
	font-size: 1em;
	width: 1em;
	height: 1em;
}

#webpage-icon {
	font-size: 1em;
	margin-bottom: 0;
	margin-right: 0.5em;
	font-family: emoji;
	width: fit-content;
	display: inline-block;
	vertical-align: middle;
}

body.show-inline-title .page-title {
	font-weight: var(--inline-title-weight);
	font-size: var(--inline-title-size);
	font-style: var(--inline-title-style);
	font-variant: var(--inline-title-variant);
	font-family: var(--inline-title-font);
	letter-spacing: -0.015em;
	color: var(--inline-title-color);
}

.page-title {
	text-align: center;
	display: flex;
	align-items: center;
	justify-content: center;
}

/*#region Created/Updated Time Bar */

/* 时间显示 */
.created-updated-bar {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 1.5em;
	margin-bottom: 1em;
	font-size: 0.9em;
}

/* 时间条目样式 */
.created-time,
.updated-time {
	display: flex;
	align-items: center;
	gap: 0.5em;
	color: var(--text-muted);
}

/* 图标样式 */
.created-icon svg,
.updated-icon svg {
	color: var(--text-muted);
	width: 1.2em;
	height: 1.2em;
	vertical-align: text-bottom;
	position: relative;
	top: -0.1em;
}

/* 时间值样式（无背景高亮，加粗） */
.created-time-value,
.updated-time-value {
	color: var(--text-muted);
	font-family: auto;
	font-weight: 700;
	font-size: 0.95em;
	line-height: 1.2;
}

/*#endregion */

h1 li {
	translate: calc(0px - var(--list-indent)) 0;
}

.heading {
	position: relative;
}

.heading.is-collapsed::after {
	content: "..." !important;
	display: inline-block !important;
	position: absolute !important;
	margin: 0 !important;
	padding: 0 !important;
	margin-left: 0.3em !important;
	color: var(--text-muted);
}

/* high specificity in order to override other style */
html>body>#main-horizontal>#center-content>.obsidian-document>.markdown-preview-sizer>div:not(:is(.footer, .header)) {
	margin-inline: 0 !important;
	margin: 0 !important;
	padding: 0 !important;
}

html>body>#main-horizontal>#center-content>.obsidian-document>.markdown-preview-sizer>div {
	width: 100%;
	max-width: 100%;
}

.collapse-icon:not(.list-collapse-indicator) svg.svg-icon {
	color: var(--nav-collapse-icon-color);
	width: var(--collapse-arrow-size);
	height: var(--collapse-arrow-size);
	transition: transform 100ms ease-in-out 0s;
	stroke-width: 4px;
	min-width: 10px;
	min-height: 10px;
	max-width: 24px;
	max-height: 24px;
}

.heading-collapse-indicator.collapse-icon.is-collapsed>svg {
	transition: transform 0.1s ease-in-out;
	transform: rotate(-90deg);
}

.heading .heading-collapse-indicator {
	opacity: 0;
	transition: opacity 0.15s ease-in-out;
	position: absolute;
	z-index: 1;
	padding: 0 !important;
	padding-left: 2em !important;
	padding-right: 1em !important;
	left: -2em !important;
}

.heading:hover>.heading-collapse-indicator {
	opacity: 1;
}

.tree-container {
	--nav-item-size: 0.9em;
	position: relative;
	overflow: hidden auto;
	max-height: 50vh;
	scrollbar-width: thin;
	scrollbar-color: rgba(140, 140, 140, 0.4) rgba(128, 128, 128, 0.08);
	overscroll-behavior: contain;
}

.tree-container::-webkit-scrollbar {
	width: 5px;
}

.tree-container::-webkit-scrollbar-track {
	background: rgba(128, 128, 128, 0.08);
	border-radius: 6px;
	margin: 4px 0;
}

.tree-container::-webkit-scrollbar-thumb {
	background-color: rgba(140, 140, 140, 0.35);
	border-radius: 6px;
}

.tree-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(140, 140, 140, 0.55);
}

body.theme-dark .tree-container {
	scrollbar-color: rgba(180, 180, 180, 0.3) rgba(255, 255, 255, 0.05);
}

body.theme-dark .tree-container::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
}

body.theme-dark .tree-container::-webkit-scrollbar-thumb {
	background-color: rgba(180, 180, 180, 0.3);
}

body.theme-dark .tree-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(200, 200, 200, 0.5);
}

body.theme-light .tree-container {
	scrollbar-color: rgba(100, 100, 100, 0.3) rgba(0, 0, 0, 0.04);
}

body.theme-light .tree-container::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.04);
}

body.theme-light .tree-container::-webkit-scrollbar-thumb {
	background-color: rgba(100, 100, 100, 0.3);
}

body.theme-light .tree-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(80, 80, 80, 0.5);
}

#left-sidebar .tree-container {
	max-height: none;
	overflow: visible;
}

.nav-file-title,
.nav-folder-title {
	line-height: var(--tree-vertical-spacing) !important;
	font-size: 0.9em;
	color: var(--text-muted);
}

.nav-file-title:hover,
.nav-folder-title:hover {
	color: var(--text-normal);
}

.nav-folder-title {
	font-weight: 500;
	color: var(--text-normal);
}

/*#region Sidebar Toolbar */

.sidebar-toolbar {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 0 var(--sidebar-margin);
	margin-bottom: 8px;
	min-width: var(--sidebar-width);
}

/* Push left sidebar toolbar (search bar) down, right above file tree */
#left-sidebar .sidebar-toolbar {
	margin-top: 2.5em;
	margin-bottom: 4px;
}

/* Search container in toolbar: icon + input side by side */
.sidebar-toolbar #search-container {
	flex: 1 1 auto;
	position: relative;
	display: flex;
	align-items: center;
	min-width: 0;
	--input-height: 2.75em;
}

.sidebar-toolbar #search-wrapper {
	flex: 1 1 auto;
	position: relative;
	min-width: 0;
}

.sidebar-toolbar #search-container input[type="search"] {
	width: 100%;
	padding-left: 2.75em;
	font-size: 0.9em;
	border-radius: var(--input-radius, 6px);
	border: 1px solid rgba(255, 255, 255, 0.08);
	background-color: rgba(255, 255, 255, 0.06);
	color: var(--text-normal);
	transition: border-color 0.15s ease, background-color 0.15s ease;
}

body.theme-light .sidebar-toolbar #search-container input[type="search"] {
	border-color: rgba(0, 0, 0, 0.08);
	background-color: rgba(0, 0, 0, 0.04);
}

.sidebar-toolbar #search-container input[type="search"]:focus {
	border-color: var(--interactive-accent);
	background-color: rgba(255, 255, 255, 0.1);
	outline: none;
}

body.theme-light .sidebar-toolbar #search-container input[type="search"]:focus {
	background-color: rgba(0, 0, 0, 0.06);
}

.sidebar-toolbar #search-icon {
	position: absolute;
	left: 8px;
	top: 50%;
	transform: translateY(-50%);
	width: 30px;
	height: 30px;
	z-index: 10;
}

.sidebar-toolbar-actions {
	display: flex;
	align-items: center;
	gap: 4px;
	flex-shrink: 0;
}

.sidebar-toolbar-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	border-radius: var(--radius-s, 4px);
	cursor: pointer;
	color: var(--text-muted);
	transition: color 0.15s ease, background-color 0.15s ease;
}

.sidebar-toolbar-btn:hover {
	color: var(--text-normal);
	background-color: var(--background-modifier-hover);
}

.sidebar-toolbar-btn svg {
	width: 22px;
	height: 22px;
}

/* Theme toggle icon visibility based on current theme */
body.theme-dark #sidebar-theme-toggle .theme-icon-dark {
	display: block;
}

body.theme-dark #sidebar-theme-toggle .theme-icon-light {
	display: none;
}

body.theme-light #sidebar-theme-toggle .theme-icon-dark {
	display: none;
}

body.theme-light #sidebar-theme-toggle .theme-icon-light {
	display: block;
}

/* Default: show moon (dark icon) when no theme class yet */
#sidebar-theme-toggle .theme-icon-light {
	display: none;
}

/*#endregion */

/* Fallback: style Obsidian Publish sidebar-toolbar-search as a proper search bar */
.sidebar-toolbar .sidebar-toolbar-search {
	display: flex;
	align-items: center;
	flex: 1 1 auto;
	min-width: 0;
	height: var(--input-height, 2.2em);
	padding: 0 0.6em;
	gap: 0.5em;
	border-radius: var(--input-radius, 6px);
	border: 1px solid var(--background-modifier-border);
	background-color: var(--background-secondary);
	cursor: pointer;
	transition: border-color 0.15s ease, background-color 0.15s ease;
}

.sidebar-toolbar .sidebar-toolbar-search:hover {
	border-color: var(--interactive-accent);
	background-color: var(--background-primary);
}

.sidebar-toolbar .sidebar-toolbar-search svg {
	width: 16px;
	height: 16px;
	flex-shrink: 0;
	opacity: 0.5;
}

.sidebar-toolbar .sidebar-toolbar-search span {
	font-size: 0.85em;
	color: var(--text-muted);
	white-space: nowrap;
}

/* Hide sidebar-toolbar-search when proper search container exists */
.sidebar-toolbar:has(#search-container) .sidebar-toolbar-search {
	display: none;
}

/*#region Theme Toggle */

.theme-toggle-container {
	--toggle-width: 3.5em;
	--toggle-height: 1.75em;
	--border-radius: calc(var(--toggle-height) / 2);
	--handle-width: calc(var(--toggle-height) * 0.65);
	--handle-radius: calc(var(--handle-width) / 2);
	--handle-margin: calc((var(--toggle-height) / 2.0) - var(--handle-radius));
	--handle-translation: calc(var(--toggle-width) - var(--handle-width) - (var(--handle-margin) * 2));

	cursor: pointer;
	display: flex;
	flex-direction: row;
	align-items: center;
	gap: 1em;
}

.feature-title,
.clickable-icon {
	transition: color var(--color-fade-speed) ease-in-out;
}

/* animation to expand width, move handle, then contract width */
@keyframes toggle-slide-right {
	0% {
		width: var(--handle-width);
		transform: translateX(0);
	}

	50% {
		width: calc(var(--toggle-width) * 0.5);
	}

	90% {
		width: var(--handle-width);
	}

	100% {
		transform: translateX(var(--handle-translation));
	}
}

@keyframes toggle-slide-left {
	0% {
		width: var(--handle-width);
		transform: translateX(calc(var(--handle-translation) - ((var(--toggle-width) * 0.33) - var(--handle-width))));
	}

	70% {
		width: calc(var(--toggle-width) * 0.5);
	}

	100% {
		width: var(--handle-width);
		transform: translateX(0);
	}
}

/* just exapnd and contract */
@keyframes toggle-expand-right {
	0% {
		width: var(--handle-width);
	}

	100% {
		width: calc(var(--toggle-width) * 0.33);
	}
}

@keyframes toggle-expand-left {
	0% {
		width: var(--handle-width);
		transform: translateX(var(--handle-translation));
	}

	100% {
		width: calc(var(--toggle-width) * 0.33);
		transform: translateX(calc(var(--handle-translation) - ((var(--toggle-width) * 0.33) - var(--handle-width))));
	}
}

@keyframes toggle-contract {
	0% {
		width: calc(var(--toggle-width) * 0.33);
	}

	100% {
		width: var(--handle-width);
	}
}

.theme-toggle-input {
	display: none;
	z-index: 1000;
}

/* Fill in dark mode / default */
.toggle-background {
	position: relative;
	width: var(--toggle-width);
	height: var(--toggle-height);
	border-radius: var(--border-radius);
	background-color: var(--background-modifier-border);

	transition: background-color var(--color-fade-speed);
	z-index: 1000;

	animation-duration: 0.2s;
}

/* Handle default */
.toggle-background::before {
	content: "";
	position: absolute;
	left: var(--handle-margin);
	top: var(--handle-margin);
	height: var(--handle-width);
	width: var(--handle-width);

	border-radius: var(--handle-radius);
	background-color: var(--text-normal);
	box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.2);
	animation: toggle-slide-left ease-in-out normal both;
	animation-duration: inherit;
	z-index: 1000;
}

/* handle light*/
.theme-toggle-input:checked~.toggle-background::before {
	animation: toggle-slide-right ease-in-out normal both;
	animation-duration: inherit;
}

.theme-toggle-input:active~.toggle-background::before {
	animation: toggle-expand-right ease-in-out normal both;
	animation-duration: inherit;
}

.theme-toggle-input:active:checked~.toggle-background::before {
	animation: toggle-expand-left ease-in-out normal both;
	animation-duration: inherit;
}

/* sun moon icon icon default */
.toggle-background::after {
	content: "";
	position: absolute;
	right: var(--handle-margin);
	top: calc(var(--handle-margin));
	height: var(--handle-width);
	width: var(--handle-width);
	transition: transform 0.3s;
	background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>') no-repeat center center;
	transform: scale(0.9);
}

/* sun moon icon icon light */
.theme-toggle-input:checked~.toggle-background::after {
	transform: translateX(calc(var(--handle-translation) * -1)) scale(0.9);
	background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>') no-repeat center center;
}

/*#endregion */

/*#region Graph View */

/* Official OB Publish graph color classes mapped to Obsidian CSS variables */
.graph-view.color-fill { color: var(--graph-node, var(--text-muted)); }
.graph-view.color-fill-focused { color: var(--interactive-accent); }
.graph-view.color-fill-tag { color: var(--graph-tag, var(--tag-color, var(--text-accent))); }
.graph-view.color-fill-unresolved { color: var(--graph-node, var(--text-faint)); opacity: 0.5; }
.graph-view.color-fill-attachment { color: var(--graph-node, var(--text-muted)); }
.graph-view.color-arrow { color: var(--graph-text, var(--text-muted)); }
.graph-view.color-circle { color: var(--graph-line, var(--background-modifier-border)); }
.graph-view.color-line { color: var(--graph-line, var(--background-modifier-border)); }
.graph-view.color-text { color: var(--graph-text, var(--text-normal)); }
body.theme-light .graph-view.color-text { color: var(--graph-text, #1a1a1a); }
.graph-view.color-fill-highlight { color: var(--interactive-accent); }
.graph-view.color-line-highlight { color: var(--interactive-accent); }

.graph-view-wrapper {
	--graph-view-max-height: 27vh;
}

#graph-canvas {
	width: 100%;
	height: 100%;
	aspect-ratio: 2 / 3;
	transition: opacity 0.15s ease-in-out;
}

.graph-view-container.expanded {
	position: fixed;
	width: 92%;
	height: 90%;
	max-height: unset;
	aspect-ratio: auto;
	right: 5%;
	top: 5%;
	background-color: var(--background-secondary);
	z-index: 100;
}

body:is(.is-phone, .is-tablet) .graph-view-container.expanded {
	width: 95%;
	height: 95%;
	right: 2.5%;
	top: 2.5%;
}

.graph-view-container {
	position: relative;
	width: 100%;
	aspect-ratio: 2 / 3;
	max-height: var(--graph-view-max-height);
	display: flex;
	transition: background-color var(--color-fade-speed) ease-in-out;
	touch-action: none;
	border: 1px solid var(--modal-border-color);
	border-radius: var(--modal-radius);
	overflow: hidden;
}

.graph-icon {
	position: absolute;
	cursor: pointer;
	color: var(--text-muted);
	transition: color 0.2s ease-in-out;
	z-index: 20;
}

.graph-icon svg {
	width: 20px;
	height: 20px;
}

.graph-icon:hover {
	color: var(--interactive-accent);
}

.graph-icon.graph-expand {
	top: 6px;
	right: 6px;
}

.graph-icon.graph-global {
	top: 6px;
	right: 32px;
}


.graph-view-placeholder {
	padding: 0;
	width: 100%;
	aspect-ratio: 2 / 3;
	max-height: var(--graph-view-max-height);
	position: relative;
	flex: none;
}

.graph-view-placeholder:has(.expanded) {
	border-radius: var(--modal-radius);
	border: 1px solid var(--modal-border-color);
}

.scale-down {
	transition: transform 0.2s ease-in-out;
	transform: scale(0.9);
}

.scale-up {
	transition: transform 0.2s ease-in-out;
	transform: scale(1);
}




/*#endregion */

/*#region Canvas */

body :is(.canvas-node-container, .canvas-wrapper) {
	cursor: unset !important;
}

body .canvas-wrapper {
	max-width: 100% !important;
}

.canvas {
	translate: 0 0;
	scale: 1 1;
	will-change: translate, scale;
}

.canvas-controls {
	display: none;
	cursor: default !important;
}

.canvas-card-menu {
	display: none;
	cursor: default !important;
}

.canvas-node-content-blocker {
	pointer-events: none;
}

.canvas.small-scale :is(.canvas-node-label, .canvas-path-label, .obsidian-document) {
	display: none;
}

/*#endregion */

/*#region Phone */

body.is-phone .sidebar {
	font-size: 1.15em;
	--tree-vertical-spacing: 1.8em;
	--sidebar-width: 85vw !important;
}

body.is-phone {
	--collapse-arrow-size: 14px;
	--tree-vertical-spacing: 0.8em;
}

/*#endregion */

/*#region Loading */

.loading-icon {
	--width: 80px;
	--height: 80px;

	display: inline-block;
	position: fixed;
	left: calc(50% - var(--width) / 2);
	top: calc(50% - var(--height) / 2);
	width: var(--width);
	height: var(--height);

	opacity: 0;
	transition: opacity 0.5s ease-in-out;
	pointer-events: none;
}

.loading-icon.show {
	opacity: 1;
}

.loading-icon div {
	position: absolute;
	top: 33px;
	width: 13px;
	height: 13px;
	border-radius: 50%;
	background: var(--interactive-accent);
	animation-timing-function: cubic-bezier(0, 1, 1, 0);
}

.loading-icon div:nth-child(1) {
	left: 8px;
	animation: lds-ellipsis1 0.6s infinite;
}

.loading-icon div:nth-child(2) {
	left: 8px;
	animation: lds-ellipsis2 0.6s infinite;
}

.loading-icon div:nth-child(3) {
	left: 32px;
	animation: lds-ellipsis2 0.6s infinite;
}

.loading-icon div:nth-child(4) {
	left: 56px;
	animation: lds-ellipsis3 0.6s infinite;
}

.loading-icon:not(.show) div {
	animation-play-state: paused;
}

@keyframes lds-ellipsis1 {
	0% {
		transform: scale(0);
	}

	100% {
		transform: scale(1);
	}
}

@keyframes lds-ellipsis3 {
	0% {
		transform: scale(1);
	}

	100% {
		transform: scale(0);
	}
}

@keyframes lds-ellipsis2 {
	0% {
		transform: translate(0, 0);
	}

	100% {
		transform: translate(24px, 0);
	}
}

/*#endregion  */

/*#region Media Queries */

@media print {
	html body.publish :is(.sidebar, script, style, include) {
		display: none !important;
	}

	:root,
	html body.publish> :is(#main-horizontal, #center-content, .obsidian-document):not(script, style, include) {
		display: contents !important;
	}

	:root,
	html body.publish #center-content>.obsidian-document {
		background-color: transparent !important;
	}

	body {
		display: inline !important;
		background: var(--background-primary);
	}

	body #center-content>.obsidian-document>.markdown-preview-sizer {
		padding: 0;
		margin: 0;
		padding: var(--file-margins);
		padding-bottom: 0;
	}

	html body.publish :is(#center-content, .obsidian-document) {
		margin: 0 !important;
		padding: 0 !important;
	}


}

/*#endregion  */

/*#region Search */

#search-results {
	padding: 1em;
}

.search-result {
	display: flex;
}

.search-result a {
	padding: calc(var(--tree-vertical-spacing) / 2);
	border-radius: var(--radius-s);
	width: 100%;
	color: var(--nav-item-color);
	text-decoration: none;
}

.search-result a:hover {
	background-color: var(--nav-item-background-hover);
	text-decoration: underline;
	color: var(--nav-item-color-active);
}

.tree-hint-label {
	font-size: var(--font-smallest);
	color: var(--text-accent);
	width: 100%;
	width: -webkit-fill-available;
	width: -moz-available;
	width: fill-available;
	text-decoration-line: none;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.tree-hint-label.internal-link::before {
	content: "H";
	font-size: 1.2em;
	font-weight: 700;
	position: relative;
	display: inline-block;
	margin-right: 0.5em;
	translate: 0 0.05em;
	color: var(--nav-item-color);
}

.tree-hint-label:hover {
	text-decoration-line: underline;
}

.tree-hint-container {
	width: 100%;
	padding: var(--nav-item-padding);
	padding-bottom: 0;
	padding-top: 0;
	padding-right: 0;
	display: flex;
	flex-direction: column;
	margin-left: 22px;
}

/* find hints inside folders with no other folders in them */
.tree-container .nav-folder:not(:has(.nav-folder)) .nav-file>.tree-link>.tree-hint-container {
	padding-left: calc(1em * 2);
}

a.tree-hint-label:hover {
	text-decoration-line: underline;
}

.search-mark {
	margin: 0 !important;
	padding: 0 !important;
	scroll-margin: 2em !important;
}

.search-input-container:has(+ #search-results)>input[type="search"] {
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
}

#search-container {
	--input-height: 2.6em;
}

#search-container::before {
	display: none !important;
}

input[type=search] {
	box-shadow: none !important;
	height: var(--input-height);
	font-size: 1em;
	transition: background, background-color, border;
	transition-duration: var(--color-fade-speed);
	transition-timing-function: ease-in-out;
}

/* Remove browser default search icon */
input[type=search]::-webkit-search-decoration,
input[type=search]::-webkit-search-cancel-button {
	-webkit-appearance: none;
	appearance: none;
}

input[type=search]::-moz-search-clear-button {
	display: none;
}

.search-input-container {
	display: flex !important;
}

.search-input-wrapper {
	position: relative;
	width: 100%;
}

/* Search icon button animation for modal trigger */
#search-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	cursor: pointer;
	opacity: 0.7;
	transition: all 0.2s ease-in-out;
	flex-shrink: 0;
	border-radius: 6px;
	position: absolute;
	left: 8px;
	top: 50%;
	transform: translateY(-50%);
	z-index: 10;
	pointer-events: auto;
	background: transparent;
}

#search-icon:hover {
	opacity: 1;
	background: var(--background-modifier-hover);
	transform: translateY(-50%) scale(1.05);
}

#search-icon:active {
	transform: translateY(-50%) scale(0.95);
	background: var(--background-modifier-active);
}

#search-icon svg {
	width: 18px;
	height: 18px;
	stroke: var(--text-muted);
	transition: stroke 0.2s ease-in-out;
}

#search-icon:hover svg {
	stroke: var(--text-normal);
}

/* Quartz-style Modal Search */
.search-container {
	position: fixed;
	contain: layout;
	z-index: 10000;
	left: 0;
	top: 0;
	width: 100vw;
	height: 100vh;
	overflow-y: auto;
	display: none;
	backdrop-filter: blur(4px);
	background-color: rgba(0, 0, 0, 0.5);
}

.search-container.active {
	display: inline-block;
}

.search-container > .search-space {
	width: 65%;
	margin-top: 12vh;
	margin-left: auto;
	margin-right: auto;
}

@media (max-width: 1200px) {
	.search-container > .search-space {
		width: 90%;
	}
}

.search-container > .search-space > * {
	width: 100%;
	border-radius: 7px;
	background: rgba(30, 30, 30, 0.65);
	backdrop-filter: blur(24px) saturate(180%);
	-webkit-backdrop-filter: blur(24px) saturate(180%);
	box-shadow: 0 16px 48px rgba(0, 0, 0, 0.3);
	border: 1px solid rgba(255, 255, 255, 0.08);
	margin-bottom: 2em;
}

.theme-light .search-container > .search-space > * {
	background: rgba(255, 255, 255, 0.65);
	border-color: rgba(0, 0, 0, 0.08);
	box-shadow: 0 16px 48px rgba(0, 0, 0, 0.12);
}

.search-container > .search-space > input {
	box-sizing: border-box;
	padding: 0.5em 1em;
	font-family: inherit;
	color: var(--text-normal);
	font-size: 1.1em;
	border: 1px solid rgba(255, 255, 255, 0.08);
	background: rgba(30, 30, 30, 0.65) !important;
	backdrop-filter: blur(24px) saturate(180%);
	-webkit-backdrop-filter: blur(24px) saturate(180%);
}

.theme-light .search-container > .search-space > input {
	border-color: rgba(0, 0, 0, 0.08);
	background: rgba(255, 255, 255, 0.65) !important;
}

.search-container > .search-space > input:focus {
	outline: none;
}

.search-container > .search-space > .search-layout {
	display: none;
	flex-direction: row;
	border: 1px solid rgba(255, 255, 255, 0.08);
	flex: 0 0 100%;
	box-sizing: border-box;
}

.theme-light .search-container > .search-space > .search-layout {
	border-color: rgba(0, 0, 0, 0.08);
}

.search-container > .search-space > .search-layout.display-results {
	display: flex;
}

.search-container > .search-space > .search-layout[data-preview] > .results-container {
	flex: 0 0 min(30%, 450px);
}

@media (min-width: 801px) {
	.search-container > .search-space > .search-layout[data-preview] .result-card > p.preview {
		display: none;
	}

	.search-container > .search-space > .search-layout[data-preview] > div:first-child {
		border-right: 1px solid var(--background-modifier-border);
		border-top-right-radius: unset;
		border-bottom-right-radius: unset;
	}

	.search-container > .search-space > .search-layout[data-preview] > div:last-child {
		border-top-left-radius: unset;
		border-bottom-left-radius: unset;
	}
}

.search-container > .search-space > .search-layout > div {
	height: calc(75vh - 12vh);
	border-radius: 5px;
}

@media (max-width: 800px) {
	.search-container > .search-space > .search-layout {
		flex-direction: column;
	}

	.search-container > .search-space > .search-layout > .preview-container {
		display: none !important;
	}

	.search-container > .search-space > .search-layout[data-preview] > .results-container {
		width: 100%;
		height: auto;
		flex: 0 0 100%;
	}
}

.search-container .highlight {
	background: color-mix(in srgb, var(--text-accent) 60%, rgba(255, 255, 255, 0));
	border-radius: 5px;
	scroll-margin-top: 2rem;
}

.search-container > .search-space > .search-layout > .preview-container {
	flex-grow: 1;
	display: block;
	overflow: hidden;
	font-family: inherit;
	color: var(--text-normal);
	line-height: 1.5em;
	font-weight: 400;
	overflow-y: auto;
	padding: 0 2rem;
}

.search-container > .search-space > .search-layout > .preview-container .preview-inner {
	margin: 0 auto;
	width: min(800px, 100%);
}

.search-container > .search-space > .search-layout > .preview-container a[role="anchor"] {
	background-color: transparent;
}

.search-container .preview-container .code-block-container {
	position: relative;
}

.search-container .preview-container .copy-button,
.search-container .preview-container .copy-code-button {
	position: absolute !important;
	top: 6px;
	right: 6px;
	z-index: 10;
	opacity: 0;
	transition: opacity 0.2s ease;
	background: var(--background-secondary, rgba(0,0,0,0.5)) !important;
	border: none !important;
	border-radius: 4px;
	padding: 4px 6px;
	cursor: pointer;
	color: var(--text-muted) !important;
}

.search-container .preview-container pre {
	position: relative;
}

.search-container .preview-container pre > .copy-code-button {
	position: absolute !important;
	top: 6px;
	right: 6px;
	z-index: 10;
	opacity: 0;
	transition: opacity 0.2s ease;
}

.search-container .preview-container .code-block-container:hover .copy-button,
.search-container .preview-container .code-block-container:hover .copy-code-button,
.search-container .preview-container pre:hover > .copy-code-button {
	opacity: 1;
}

.search-container > .search-space > .search-layout > .results-container {
	overflow-y: auto;
}

.search-container > .search-space > .search-layout > .results-container .result-card {
	overflow: hidden;
	padding: 1em;
	cursor: pointer;
	transition: background 0.2s ease;
	border-bottom: 1px solid var(--background-modifier-border);
	width: 100%;
	display: block;
	box-sizing: border-box;
	font-family: inherit;
	font-size: 100%;
	line-height: 1.15;
	margin: 0;
	text-transform: none;
	text-align: left;
	outline: none;
	font-weight: inherit;
	text-decoration: none;
	color: inherit;
}

.search-container > .search-space > .search-layout > .results-container .result-card:hover,
.search-container > .search-space > .search-layout > .results-container .result-card:focus,
.search-container > .search-space > .search-layout > .results-container .result-card.focus {
	background: var(--background-modifier-hover);
}

.search-container > .search-space > .search-layout > .results-container .result-card > h3 {
	margin: 0;
}

.search-container > .search-space > .search-layout > .results-container .result-card > ul.tags {
	margin-top: 0.45rem;
	margin-bottom: 0;
	list-style: none;
	padding: 0;
	display: flex;
	flex-wrap: wrap;
	gap: 0.3rem;
}

.search-container > .search-space > .search-layout > .results-container .result-card > ul > li > p {
	border-radius: 6px;
	background-color: var(--background-secondary);
	padding: 1px 6px;
	margin: 0;
	line-height: 1.2rem;
	font-weight: 500;
	color: var(--text-accent);
	font-size: 0.75em;
}

.search-container > .search-space > .search-layout > .results-container .result-card > ul > li > p.match-tag {
	color: var(--text-accent);
	background-color: color-mix(in srgb, var(--text-accent) 15%, transparent);
}

.search-container > .search-space > .search-layout > .results-container .result-card > p {
	margin-bottom: 0;
	margin-top: 0.4em;
	font-size: 0.85em;
	color: var(--text-muted);
	line-height: 1.4;
}

@media (min-width: 801px) {
	.search-container > .search-space > .search-layout[data-preview] .result-card > p.card-description {
		display: none;
	}
}

/* Preview container scrollbar */
.search-container .results-container,
.search-container .preview-container {
	scrollbar-width: thin;
	scrollbar-color: rgba(140, 140, 140, 0.4) rgba(128, 128, 128, 0.08);
}

.search-container .results-container::-webkit-scrollbar,
.search-container .preview-container::-webkit-scrollbar {
	width: 5px;
}

.search-container .results-container::-webkit-scrollbar-track,
.search-container .preview-container::-webkit-scrollbar-track {
	background: rgba(128, 128, 128, 0.08);
	border-radius: 6px;
}

.search-container .results-container::-webkit-scrollbar-thumb,
.search-container .preview-container::-webkit-scrollbar-thumb {
	background-color: rgba(140, 140, 140, 0.35);
	border-radius: 6px;
}

.search-container .results-container::-webkit-scrollbar-thumb:hover,
.search-container .preview-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(140, 140, 140, 0.55);
}

body.theme-dark .search-container .results-container,
body.theme-dark .search-container .preview-container {
	scrollbar-color: rgba(180, 180, 180, 0.3) rgba(255, 255, 255, 0.05);
}

body.theme-dark .search-container .results-container::-webkit-scrollbar-track,
body.theme-dark .search-container .preview-container::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
}

body.theme-dark .search-container .results-container::-webkit-scrollbar-thumb,
body.theme-dark .search-container .preview-container::-webkit-scrollbar-thumb {
	background-color: rgba(180, 180, 180, 0.3);
}

body.theme-dark .search-container .results-container::-webkit-scrollbar-thumb:hover,
body.theme-dark .search-container .preview-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(200, 200, 200, 0.5);
}

body.theme-light .search-container .results-container,
body.theme-light .search-container .preview-container {
	scrollbar-color: rgba(100, 100, 100, 0.3) rgba(0, 0, 0, 0.04);
}

body.theme-light .search-container .results-container::-webkit-scrollbar-track,
body.theme-light .search-container .preview-container::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.04);
}

body.theme-light .search-container .results-container::-webkit-scrollbar-thumb,
body.theme-light .search-container .preview-container::-webkit-scrollbar-thumb {
	background-color: rgba(100, 100, 100, 0.3);
}

body.theme-light .search-container .results-container::-webkit-scrollbar-thumb:hover,
body.theme-light .search-container .preview-container::-webkit-scrollbar-thumb:hover {
	background-color: rgba(80, 80, 80, 0.5);
}

/*#endregion */

/*#region Backlinks & Outline — Quartz style */

#backlinks {
	transition: opacity 0.2s ease-in-out;
	flex-direction: column;
	max-height: 30vh;
	overflow-y: auto;
	overflow-x: hidden;
	scrollbar-width: thin;
	scrollbar-color: rgba(140, 140, 140, 0.4) rgba(128, 128, 128, 0.08);
	overscroll-behavior: contain;
}

#backlinks::-webkit-scrollbar {
	width: 5px;
}

#backlinks::-webkit-scrollbar-track {
	background: rgba(128, 128, 128, 0.08);
	border-radius: 6px;
	margin: 4px 0;
}

#backlinks::-webkit-scrollbar-thumb {
	background-color: rgba(140, 140, 140, 0.35);
	border-radius: 6px;
}

#backlinks::-webkit-scrollbar-thumb:hover {
	background-color: rgba(140, 140, 140, 0.55);
}

body.theme-dark #backlinks {
	scrollbar-color: rgba(180, 180, 180, 0.3) rgba(255, 255, 255, 0.05);
}

body.theme-dark #backlinks::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
}

body.theme-dark #backlinks::-webkit-scrollbar-thumb {
	background-color: rgba(180, 180, 180, 0.3);
}

body.theme-dark #backlinks::-webkit-scrollbar-thumb:hover {
	background-color: rgba(200, 200, 200, 0.5);
}

body.theme-light #backlinks {
	scrollbar-color: rgba(100, 100, 100, 0.3) rgba(0, 0, 0, 0.04);
}

body.theme-light #backlinks::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.04);
}

body.theme-light #backlinks::-webkit-scrollbar-thumb {
	background-color: rgba(100, 100, 100, 0.3);
}

body.theme-light #backlinks::-webkit-scrollbar-thumb:hover {
	background-color: rgba(80, 80, 80, 0.5);
}

#giscus {
	margin-top: 3rem;
	width: 100%;
	max-width: var(--file-line-width);
	margin-left: auto;
	margin-right: auto;
}

.giscus {
	width: 100%;
}

.tree-item-self > .tree-collapse-all {
	margin-left: auto;
	padding: 2px;
	color: var(--text-muted);
	opacity: 0.7;
	transition: opacity 0.15s ease;
	flex-shrink: 0;
}

.tree-item-self > .tree-collapse-all:hover {
	opacity: 1;
}

.outline-backlinks-toggle {
	display: none;
}

/* TOC-specific: slightly shorter max-height */
#outline.tree-container {
	position: relative;
	max-height: 45vh;
}

.backlinks-content {
	list-style: none;
	padding: 0;
	margin: 0.5rem 0;
}

a.backlink {
	background-color: transparent;
}

/*#endregion */

/*#region Tags */

#tags,
#aliases {
	display: flex;
	align-items: baseline;
	gap: 1em;
}

#tags .tags-content,
#aliases .aliases-content {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5em;
	align-items: center;
}

#aliases .aliases-content .alias {
	font-size: var(--tag-size);
	padding-inline: 0.25em;
}

/* 将别名移到标题下方 */
.header {
	display: flex;
	flex-direction: column;
	position: relative;
}

/* 别名样式调整 */
.header #aliases {
	width: 100%;
	justify-content: center;
	gap: 0;
	margin-top: 0.4em;
	margin-bottom: 0.2em;
}

.header #aliases .feature-header {
	display: none;
}

.header #aliases .aliases-content {
	justify-content: center;
	gap: 0.5em;
}

.header #aliases .aliases-content .alias {
	font-size: 0.8em;
	color: var(--text-faint);
	background-color: var(--background-modifier-hover);
	padding: 0.15em 0.65em;
	border-radius: 1em;
	letter-spacing: 0.02em;
}

/*#endregion */

/*#region Features */

.data-bar .feature-title {
	color: var(--text-muted);
	font-weight: 400;
	font-size: 0.9em;
}

.feature-header:empty,
.feature-title:empty {
	display: none;
}

/*#endregion */

/*#region Header & Footer */

.header .data-bar {
	display: flex;
	flex-wrap: wrap;
}

.header .data-bar> :not(:first-child) {
	border-left: 1px solid var(--background-modifier-border);
	padding-left: 0.5em;
	margin-left: 0.5em;
}

.header .data-bar>#tags {
	border-left: none !important;
	padding-left: 0;
	margin-left: 0;
}

.header .data-bar:not(:empty) {
	padding-bottom: 1em;
	margin-bottom: 1em;
	border-bottom: 1px solid var(--background-modifier-border);
}

.footer:not(:has(div:first-child:last-child)):not(:empty),
.footer .data-bar:not(:empty) {
	border-top: 1px solid var(--background-modifier-border);
	padding-top: 10px;
	margin-top: 24px;
}

/*#region Footer Links */

#footer-links {
	text-align: center;
	height: 20px;
	padding: 40px 0;
	margin-bottom: 20px;
}

#footer-links a {
	margin: 0 14px;
	text-decoration: none;
	transition: opacity 0.2s ease;
}

#footer-links a:hover {
	opacity: 0.8;
}

/*#endregion */

/*#region Copyright */

#copyright {
	color: var(--text-muted);
	font-size: 15px;
	text-align: center;
	padding: 1px 0;
	margin-top: 24px;
	white-space: pre-line;
}

#copyright a {
	color: inherit;
	text-decoration: underline;
	text-decoration-color: var(--text-muted);
	font-size: inherit;
}

#copyright a:hover {
	opacity: 0.8;
}

.copyright-content {
	font-size: inherit;
}

.copyright-content #copyright {
	font-size: 15px;
}

.copyright-content #copyright a {
	font-size: inherit;
}

/*#endregion */

.header:last-child {
	margin-bottom: var(--p-spacing);
}

/*#endregion */

/*#region Hover Preview*/

.file-preview.popover.hover-popover .markdown-embed {
	max-height: unset !important;
	width: 100% !important;
	min-width: var(--popover-width);
	min-height: 8em;
}

.file-preview.popover.hover-popover {
	opacity: 1;
	transition: opacity 0.2s ease-in-out;
	resize: both;
	min-width: var(--popover-width);
	min-height: 8em;
	height: var(--popover-height);
	width: var(--popover-width);
}

.preview-action-container {
	position: absolute;
	top: 0;
	left: 0;
	padding: 5px;
	padding-right: 10px;
	width: 100% !important;
	display: flex;
	gap: 5px;
	z-index: 1000;
}

.popover-action {
	display: block;
	background-color: var(--icon-color);
	width: var(--icon-size);
	height: var(--icon-size);
	mask-size: 100% 100%;
	mask-position: center;
	mask-repeat: no-repeat;
}

.popover-action:hover {
	background-color: var(--icon-color-hover);
}

.popover-action:active {
	background-color: var(--interactive-accent);
}

.popover-action.drag-handle {
	margin-right: auto;
	cursor: move;
	mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-grip"><circle cx="12" cy="5" r="1"/><circle cx="19" cy="5" r="1"/><circle cx="5" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/><circle cx="12" cy="19" r="1"/><circle cx="19" cy="19" r="1"/><circle cx="5" cy="19" r="1"/></svg>');
}

.popover-action.pin-button {
	cursor: pointer;
	mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin"><path d="M12 17v5"/><path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"/></svg>');
	transition: mask-image 0.3s ease;
}

.popover-action.pin-button.pinned {
	background-color: var(--interactive-accent);
	mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off"><path d="M12 17v5"/><path d="M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"/><path d="m2 2 20 20"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"/></svg>');
}

.popover-action.go-to-button {
	cursor: pointer;
	mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-symlink"><path d="m10 18 3-3-3-3"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M4 11V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7"/></svg>');
}


/*#endregion*/

/* Plugins: */

/*#region Kanban */

#center-content .kanban-plugin {
	position: absolute;
	padding: 0;
	margin: 0;
	height: 100%;
}

#center-content .kanban-plugin {
	font-family: var(--font-text, var(--default-font));
	font-size: .875rem;
	line-height: var(--line-height-tight);
	width: unset;
	overflow-y: unset;
	overflow-wrap: unset;
	color: unset;
	user-select: unset;
	-webkit-user-select: unset;
}

#center-content .kanban-plugin__item-button-wrapper,
.kanban-plugin__lane-grip,
.kanban-plugin__lane-settings-button.clickable-icon,
.kanban-plugin__item-postfix-button.clickable-icon {
	display: none;
}

/*#endregion */

/*#region Excalidraw */

.excalidraw-svg rect,
.excalidraw-plugin rect {
	fill: transparent;
}

/** Preserve mask fill **/
.excalidraw-plugin mask rect[fill="#fff"],
.excalidraw-svg mask rect[fill="#fff"],
.excalidraw-plugin mask rect[fill="#ffffff"],
.excalidraw-svg mask rect[fill="#ffffff"] {
	fill: #ffffff;
}

.excalidraw-plugin mask rect[fill="#000"],
.excalidraw-svg mask rect[fill="#000"],
.excalidraw-plugin mask rect[fill="#000000"],
.excalidraw-svg mask rect[fill="#000000"] {
	fill: #000000;
}

body.theme-dark .excalidraw-svg svg.dark,
body.theme-dark .excalidraw-plugin svg.dark,
body.theme-light .excalidraw-svg svg.light,
body.theme-light .excalidraw-plugin svg.light {
	filter: invert(93%) hue-rotate(180deg);
}


.excalidraw-plugin>svg {
	width: 100%;
	height: 100%;
}

.excalidraw-plugin {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;

	height: 100%;
	width: 100%;

	padding: 10px;
}

/*#endregion  */

/*#region Obsidian Columns Plugin */
.columnParent {
	display: flex;
	padding: 15px 20px;
	flex-wrap: wrap;
	gap: 20px;
}

.columnParent {
	white-space: normal;
}

.columnChild {
	flex-grow: 1;
	flex-basis: 0px;
}

/*#endregion */

/*#region Banners */

.obsidian-banner .lock-button {
	display: none;
}

.obsidian-document:has(.obsidian-banner-wrapper) {
	padding-top: 0 !important;
}

/*#endregion */

/*#region Mind Map  */

.obsidian-document:not([data-type='markdown']):has(.mm-mindmap) {
	overflow-y: none;
}

.obsidian-document:not([data-type='markdown']) .mm-mindmap {
	transform: scale(1);
	translate: -4000px -4000px;
	top: 70%;
	left: 50%;
	position: absolute;
	overflow: hidden;
	width: 100vw;
}

/*#endregion  */

/*#region Images */

/* 图片保持原始尺寸，最大宽度受 --img-max-width 限制 */
.markdown-preview-view.is-readable-line-width .markdown-preview-sizer>.image-embed img,
.markdown-preview-view.is-readable-line-width .markdown-preview-sizer>div:has(.image-embed) img {
	width: auto;
	max-width: 800px;
	height: auto;
}

/* 确保 image-embed 容器不会强制拉伸图片 */
.image-embed {
	width: fit-content !important;
	max-width: 100%;
}

/*#region 靶机画廊标题图标布局 */
.machine-title--with-icon {
	display: flex;
	align-items: center;
	gap: 0.1rem;
	width: 100%;
}

.machine-title--with-icon .machine-title__icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
	min-width: 1.25rem;
	max-height: 1.25rem;
}

.machine-title--with-icon .machine-title__icon img {
	height: 1.25rem;
	width: auto;
	max-width: 2.5rem;
	object-fit: contain;
}

.machine-title--with-icon .machine-title__text {
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
	flex: 1 1 auto;
	min-width: 0;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/*#endregion */